(this["webpackJsonpproyect-hotels"]=this["webpackJsonpproyect-hotels"]||[]).push([[0],{11:function(e,a,t){e.exports=t(20)},16:function(e,a,t){},20:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(9),l=t.n(s),i=(t(16),t(17),t(7)),o=t.n(i),c=t(10),m=t(2),u=t(3),p=t(1),d=t(5),h=t(4),v=t(6),f=t.n(v),g=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).UpdateDate=n.UpdateDate.bind(Object(p.a)(n)),n.updatePrice=n.updatePrice.bind(Object(p.a)(n)),n}return Object(u.a)(t,[{key:"UpdateDate",value:function(e){var a,t=f()(e),n=t.clone().day(),r=t.clone().format("DD"),s=t.clone().month(),l=t.clone().year();return a=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"][s]," ".concat(["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"][n],", ").concat(r," de ").concat(a," de ").concat(l," ")}},{key:"updatePrice",value:function(e){var a="";switch(e){case"1":a="$";break;case"2":a="$$";break;case"3":a="$$$";break;case"4":a="$$$$"}return a}},{key:"render",value:function(){var e=this.UpdateDate(this.props.filters.dateTo),a=this.UpdateDate(this.props.filters.dateFrom);return r.a.createElement("section",{className:"hero is-primary"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title"},"Hoteles"),r.a.createElement("h2",{className:"subtitle"},r.a.createElement("p",null,"Tenemos disponibles ",this.props.countHotels," hoteles en total."),r.a.createElement("span",null,""!==this.props.filters.dateFrom&&r.a.createElement("span",null,"desde el",r.a.createElement("strong",null,a)),""!==this.props.filters.dateTo&&r.a.createElement("span",null,"hasta el",r.a.createElement("strong",null," ",e," ")),""!==this.props.filters.country&&r.a.createElement("span",null," en ".concat(this.props.filters.country)),""!==this.props.filters.price&&r.a.createElement("span",null," en ".concat(this.updatePrice(this.props.filters.price))),""!==this.props.filters.rooms&&r.a.createElement("span",null," de hasta ".concat(this.props.filters.rooms," personas")))))))}}]),t}(r.a.Component),b=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleDateChange=n.handleDateChange.bind(Object(p.a)(n)),n}return Object(u.a)(t,[{key:"handleDateChange",value:function(e){this.props.onDateChange(e)}},{key:"render",value:function(){return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("input",{className:"input",type:"date",onChange:this.handleDateChange,name:this.props.name,value:this.props.date}),r.a.createElement("span",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas"},this.props.icon))))}}]),t}(r.a.Component),E=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleOptionChange=n.handleOptionChange.bind(Object(p.a)(n)),n}return Object(u.a)(t,[{key:"handleOptionChange",value:function(e){this.props.onOptionChange(e)}},{key:"render",value:function(){var e=this.props.options.map((function(e){return r.a.createElement("option",{key:e.name.toString(),name:e.name.toString(),value:e.value},e.name)}));return r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control has-icons-left"},r.a.createElement("div",{className:"select",style:{width:"100%"}},r.a.createElement("select",{style:{width:"100%"},onChange:this.handleOptionChange,name:this.props.name,value:this.props.selected},e)),r.a.createElement("div",{className:"icon is-small is-left"},r.a.createElement("i",{className:"fas"},this.props.icon))))}}]),t}(r.a.Component),y=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleOptionChange=n.handleOptionChange.bind(Object(p.a)(n)),n}return Object(u.a)(t,[{key:"handleOptionChange",value:function(e){var a=this.props.filters,t=e.target.name,n=e.target.value;a[t]=n,this.props.onFilterChange(a)}},{key:"render",value:function(){return r.a.createElement("nav",{className:"navbar is-info",style:{justifyContent:"center"}},r.a.createElement("div",{className:"navbar-item"},r.a.createElement(b,{date:this.props.filters.dateFrom,icon:"sign-in-alt",onDateChange:this.handleOptionChange,name:"dateFrom"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(b,{date:this.props.filters.dateTo,icon:"sign-out-alt",onDateChange:this.handleOptionChange,name:"dateTo"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(E,{options:[{value:"",name:"Todos los pa\xedses"},{value:"Argentina",name:"Argentina"},{value:"Brasil",name:"Brasil"},{value:"Chile",name:"Chile"},{value:"Uruguay",name:"Uruguay"}],selected:this.props.filters.country,icon:"globe",onOptionChange:this.handleOptionChange,name:"country"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(E,{options:[{value:"",name:"Cualquier precio"},{value:1,name:"$"},{value:2,name:"$$"},{value:3,name:"$$$"},{value:4,name:"$$$$"}],selected:this.props.filters.price,icon:"dollar-sign",onOptionChange:this.handleOptionChange,name:"price"})),r.a.createElement("div",{className:"navbar-item"},r.a.createElement(E,{options:[{value:"",name:"Cualquier tama\xf1o"},{value:10,name:"Hotel peque\xf1o"},{value:20,name:"Hotel mediano"},{value:30,name:"Hotel grande"}],selected:this.props.filters.rooms,icon:"bed",onOptionChange:this.handleOptionChange,name:"rooms"})))}}]),t}(r.a.Component);var N=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("section",{className:"section",style:{marginTop:"3em"}},r.a.createElement("div",{className:"container"},r.a.createElement("progress",{className:"progress is-small is-primary",max:"100"},"15%"))))},O=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n}return Object(u.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),alert("Esta Funcionalidad no ha sido programada ;)")}},{key:"render",value:function(){var e=this,a=this.props.Hotels.map((function(a){return r.a.createElement("div",{key:a.slug.toString(),className:"column is-one-third"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-4by3"},r.a.createElement("img",{src:a.photo,alt:a.name,onError:function(e){e.target.src="https://www.e-tsw.com/_lib/KResponsive/img/et_broken_link_hotel.png",e.target.onError=null}}))),r.a.createElement("div",{className:"card-content"},r.a.createElement("p",{className:"title is-4"},a.name),r.a.createElement("p",null,a.description),r.a.createElement("div",{className:"field is-grouped is-grouped-multiline",style:{marginTop:"1em"}},r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags has-addons"},r.a.createElement("span",{className:"tag is-medium is-info"},r.a.createElement("i",{className:"fas fa-map-marker"})),r.a.createElement("span",{className:"tag is-medium"},a.city,", ",a.country))),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags has-addons"},r.a.createElement("span",{className:"tag is-medium is-info"},r.a.createElement("i",{className:"fas fa-bed"})),r.a.createElement("span",{className:"tag is-medium"},a.rooms," Habitaciones"))),r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"tags"},r.a.createElement("span",{className:"tag is-medium is-info"},Array(a.price).fill(null).map((function(e,a){return r.a.createElement("i",{key:a.toString(),className:"fas fa-dollar-sign",style:{margin:"0 .125em"}})}))))))),r.a.createElement("div",{className:"card-footer"},r.a.createElement("button",{onClick:e.handleSubmit,type:"submit",className:"button is-primary card-footer-item has-background-primary has-text-white has-text-weight-bold"},"Reservar"))))}));return r.a.createElement(r.a.Fragment,null,a)}}]),t}(r.a.Component);var C=function(){return r.a.createElement("article",{className:"message is-warning"},r.a.createElement("div",{className:"message-body"},"No se han encontrado hoteles que coincidan con los par\xe1metros de b\xfasqueda."))};var j=function(e){var a=e.Hotels;return r.a.createElement("section",{className:"section",style:{marginTop:"3em"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns is-multiline"},a.length>0?r.a.createElement(O,{Hotels:a}):r.a.createElement(C,null))))},k=function(e){Object(d.a)(t,e);var a=Object(h.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).requestApi=Object(c.a)(o.a.mark((function e(){var a,t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(n.state.ApiUrl);case 3:return a=e.sent,e.next=6,a.json();case 6:t=e.sent,n.setState({hotels:t,filteredHotels:t,isAllLoaded:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("Error en la petici\xf3n...",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),n.state={ApiUrl:"https://wt-8a099f3e7c73b2d17f4e018b6cfd6131-0.sandbox.auth0-extend.com/acamica",filters:{dateFrom:"",dateTo:"",country:"",price:"",rooms:""},hotels:[],filteredHotels:[],isAllLoaded:!1},n.handleFilterChange=n.handleFilterChange.bind(Object(p.a)(n)),n.FilterBy=n.FilterBy.bind(Object(p.a)(n)),n.requestApi=n.requestApi.bind(Object(p.a)(n)),n}return Object(u.a)(t,[{key:"componentDidMount",value:function(){this.requestApi()}},{key:"handleFilterChange",value:function(e){var a=this.FilterBy(e,this.state.hotels);this.setState({filters:e,filteredHotels:a})}},{key:"FilterBy",value:function(e,a){return a.filter((function(a){return f()(a.availabilityFrom).format("YYYY-MM-DD")>=(""!==e.dateFrom?e.dateFrom:f()(a.availabilityFrom).format("YYYY-MM-DD"))&&f()(a.availabilityTo).format("YYYY-MM-DD")<=(""!==e.dateTo?e.dateTo:f()(a.availabilityTo).format("YYYY-MM-DD"))&&a.country===(""!==e.country?e.country:a.country)&&a.price===(""!==e.price?parseInt(e.price):a.price)&&a.rooms<=(""!==e.rooms?parseInt(e.rooms):a.rooms)}))}},{key:"render",value:function(){var e=this.state.filteredHotels,a=e.length;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{filters:this.state.filters,countHotels:a}),r.a.createElement(y,{filters:this.state.filters,onFilterChange:this.handleFilterChange}),this.state.isAllLoaded?r.a.createElement(j,{Hotels:e}):r.a.createElement(N,null))}}]),t}(r.a.Component);var D=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.50bbe4e2.chunk.js.map